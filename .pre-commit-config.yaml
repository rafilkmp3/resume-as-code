---
# Pre-commit hooks configuration for resume-as-code
# Optimized for developer experience - fast essential checks only

repos:
  # Conventional Commits validation with all semantic commit types
  - repo: https://github.com/compilerla/conventional-pre-commit
    rev: v3.4.0
    hooks:
      - id: conventional-pre-commit
        stages: [commit-msg]
        args: [feat, fix, docs, style, refactor, perf, test, build, ci, chore, revert]

  # Essential file checks (fast, under 1 second)
  - repo: https://github.com/pre-commit/pre-commit-hooks
    rev: v4.6.0
    hooks:
      - id: check-json
      - id: check-yaml
      - id: end-of-file-fixer
        exclude: |
          (?x)^(
              \.claude/settings\.local\.json
          )$
      - id: trailing-whitespace
        exclude: |
          (?x)^(
              \.claude/settings\.local\.json
          )$
      - id: check-added-large-files
        args: ['--maxkb=1000']
      - id: check-merge-conflict

  # Security scanning (valuable for production safety)
  - repo: https://github.com/Yelp/detect-secrets
    rev: v1.5.0
    hooks:
      - id: detect-secrets
        args: ['--baseline', '.secrets.baseline']
        exclude: |
          (?x)^(
              package-lock\.json|
              \.claude/settings\.local\.json
          )$

# PERFORMANCE OPTIMIZATIONS - REMOVED SLOW HOOKS:
#
# ‚ùå HADOLINT REMOVED: Slow Docker validation (3-5s per run)
#    - Moved to CI/CD pipeline for comprehensive validation
#    - Local development shouldn't be blocked by Docker linting
#
# ‚ùå ACTIONLINT REMOVED: Slow GitHub Actions validation (2-4s per run)
#    - GitHub Actions syntax errors caught by CI
#    - Not critical for local development workflow
#
# ‚ùå YAMLLINT REMOVED: Strict YAML formatting (1-2s per run)
#    - YAML syntax errors caught by check-yaml hook
#    - Formatting consistency handled by CI/CD
#
# ‚ùå NPM AUDIT REMOVED: Extremely slow security scan (5-15s per run)
#    - Moved to CI/CD pipeline for comprehensive security scanning
#    - Development workflow shouldn't be blocked by dependency audits
#
# ‚ùå RESUME DATA VALIDATION REMOVED: Project-specific validation (2-3s)
#    - JSON Schema validation moved to CI/CD pipeline
#    - Local development focuses on speed and iteration
#
# üéØ RESULT: Pre-commit hooks now run in under 2 seconds total
# ‚úÖ Essential quality gates: Conventional commits, file integrity, security scanning
# üöÄ Developer experience: Minimal friction, maximum safety
